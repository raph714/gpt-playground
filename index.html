<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Board Game Helper</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container-fluid">
<!-- Title removed per new layout -->
<section id="setup" class="mb-3">
    <h2>Players</h2>
    <div class="row g-2 mb-2">
        <div class="col-sm-6 col-md-3"><input type="text" id="player1" placeholder="Player 1" class="form-control"></div>
        <div class="col-sm-6 col-md-3"><input type="text" id="player2" placeholder="Player 2" class="form-control"></div>
        <div class="col-sm-6 col-md-3"><input type="text" id="player3" placeholder="Player 3" class="form-control"></div>
        <div class="col-sm-6 col-md-3"><input type="text" id="player4" placeholder="Player 4" class="form-control"></div>
    </div>
    <button id="start-game" class="btn btn-primary">Start Game</button>
</section>

<section id="turn-info" style="display:none;" class="mb-3">
    <p class="m-0"><strong>Current Player:</strong> <span id="current-player"></span> â€“ <strong>Actions left:</strong> <span id="actions-left">3</span></p>
    <div id="action-info" style="display:none;" class="my-2">
        <p id="current-action" class="fw-bold"></p>
        <p id="prompt-instruction" class="text-primary"></p>
        <button id="resolve-action" class="btn btn-success btn-sm">Resolve Action</button>
    </div>
    <button id="end-turn" class="btn btn-secondary">End Turn</button>
</section>
<div id="board" style="display:none;" class="mb-3">
    <div id="player1-area" class="player-area">
        <h3 class="player-name" id="player1-name"></h3>
        <p>Affiliation: <span class="affiliation" id="aff1">0</span></p>
        <p class="deck-info">Deck: <span id="deck1-count">0</span> | Discard: <span id="discard1-count">0</span></p>
        <div class="hand" id="hand1"></div>
    </div>
    <div id="player2-area" class="player-area">
        <h3 class="player-name" id="player2-name"></h3>
        <p>Affiliation: <span class="affiliation" id="aff2">0</span></p>
        <p class="deck-info">Deck: <span id="deck2-count">0</span> | Discard: <span id="discard2-count">0</span></p>
        <div class="hand" id="hand2"></div>
    </div>
    <div id="player3-area" class="player-area">
        <h3 class="player-name" id="player3-name"></h3>
        <p>Affiliation: <span class="affiliation" id="aff3">0</span></p>
        <p class="deck-info">Deck: <span id="deck3-count">0</span> | Discard: <span id="discard3-count">0</span></p>
        <div class="hand" id="hand3"></div>
    </div>
    <div id="player4-area" class="player-area">
        <h3 class="player-name" id="player4-name"></h3>
        <p>Affiliation: <span class="affiliation" id="aff4">0</span></p>
        <p class="deck-info">Deck: <span id="deck4-count">0</span> | Discard: <span id="discard4-count">0</span></p>
        <div class="hand" id="hand4"></div>
    </div>
    <div id="center-area" class="text-center">
        <div id="person-slots" class="d-flex justify-content-center flex-wrap mb-2">
            <div class="person-slot"></div>
            <div class="person-slot"></div>
            <div class="person-slot"></div>
            <div class="person-slot"></div>
            <div class="person-slot"></div>
        </div>
        <div id="counter" class="my-2">
            <h2>Detection Counter: <span id="detection-value">0</span></h2>
            <button id="inc-detection" class="btn btn-danger btn-sm">+1</button>
            <button id="dec-detection" class="btn btn-success btn-sm">-1</button>
        </div>
        <div id="map-tray" class="tray"></div>
        <div class="deck" id="map-deck">
            <h2>Map Deck (<span id="map-count">0</span>)</h2>
        </div>
        <div class="deck" id="people-deck">
            <h2>People Deck (<span id="people-count">0</span>)</h2>
            <button data-action="draw-person" class="btn btn-outline-primary btn-sm">Draw Person Card</button>
        </div>
        <div class="deck" id="items-deck">
            <h2>Items Deck (<span id="items-count">0</span>)</h2>
            <button data-action="draw-item" class="btn btn-outline-primary btn-sm">Draw Item Card</button>
        </div>
        <div class="deck" id="actions-deck">
            <h2>Actions Deck (<span id="actions-count">0</span>)</h2>
            <button data-action="draw-action" class="btn btn-outline-primary btn-sm">Draw Action Card</button>
        </div>
        <div id="map-board" class="board-area"></div>
    </div>
</div>
<section id="rules">
<h2>Rules</h2>
<pre id="rules-text"></pre>
</section>
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
      <div id="message-toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-body" id="toast-message"></div>
      </div>
    </div>
    <div class="modal fade" id="prompt-modal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="prompt-title"></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body" id="prompt-body"></div>
          <div class="modal-footer" id="prompt-footer"></div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </div>
</body>
</html>
